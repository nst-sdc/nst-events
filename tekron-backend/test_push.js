const { sendPushNotifications } = require('./src/services/pushNotificationService'); const { PrismaClient } = require('@prisma/client'); const prisma = new PrismaClient(); async function main() { const tokens = await prisma.participant.findMany({ where: { pushToken: { not: null } }, select: { pushToken: true } }); const pushTokens = tokens.map(t => t.pushToken); console.log('Sending to:', pushTokens); const tickets = await sendPushNotifications(pushTokens, 'Test Title', 'Test Body'); console.log('Tickets:', tickets); } main();
